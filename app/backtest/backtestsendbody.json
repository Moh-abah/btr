{
    "name": "Backtest with Strategy Integration",
    "description": "اختبار الباك-تست مع الاستراتيجية المرتبطة",
    "mode": "standard",
    "start_date": "2026-01-01T00:00:00",
    "end_date": "2026-01-5T00:00:00",
    "timeframe": "1h",
    "market": "crypto",
    "symbols": [
        "ETHUSDT"
    ],
    "strategy_config": {
        "name": "Ultimate Architecture Test (Final)",
        "version": "1.0.0",
        "description": "استراتيجية شاملة للاختبار النظام الجديد مع منطق صارم",
        "base_timeframe": "1h",
        "position_side": "both",
        "indicators": [
            {
                "name": "sma_fast",
                "type": "trend",
                "params": {
                    "period": 20
                },
                "enabled": true,
                "timeframe": "1h"
            },
            {
                "name": "sma_slow",
                "type": "trend",
                "params": {
                    "period": 50
                },
                "enabled": true,
                "timeframe": "1h"
            },
            {
                "name": "rsi",
                "type": "momentum",
                "params": {
                    "period": 14,
                    "overbought": 70,
                    "oversold": 30
                },
                "enabled": true,
                "timeframe": "1h"
            },
            {
                "name": "bollinger_bands",
                "type": "volatility",
                "params": {
                    "period": 20,
                    "std": 2.0
                },
                "enabled": true,
                "timeframe": "1h"
            },
            {
                "name": "supply_demand",
                "type": "support_resistance",
                "params": {
                    "period": 20,
                    "threshold": 2.0
                },
                "enabled": true,
                "timeframe": "1h"
            }
        ],
        "entry_rules": [
            {
                "name": "Trend Up (SMA Fast > Slow)",
                "enabled": true,
                "position_side": "long",
                "weight": 0.4,
                "condition": {
                    "type": "indicator_value",
                    "operator": ">",
                    "left_value": "indicator:sma_fast",
                    "right_value": "indicator:sma_slow"
                }
            },
            {
                "name": "RSI Healthy (<70)",
                "enabled": true,
                "position_side": "long",
                "weight": 0.2,
                "condition": {
                    "type": "indicator_value",
                    "operator": "<",
                    "left_value": "indicator:rsi",
                    "right_value": 70
                }
            },
            {
                "name": "Momentum Above Bollinger Mid",
                "enabled": true,
                "position_side": "long",
                "weight": 0.2,
                "condition": {
                    "type": "indicator_value",
                    "operator": ">",
                    "left_value": "indicator:sma_fast",
                    "right_value": "indicator:bollinger_bands"
                }
            },
            {
                "name": "Short Trend Reversal",
                "enabled": true,
                "position_side": "short",
                "weight": 0.2,
                "condition": {
                    "type": "indicator_crossover",
                    "operator": "cross_below",
                    "left_value": "indicator:sma_fast",
                    "right_value": "indicator:sma_slow"
                }
            }
        ],
        "exit_rules": [
            {
                "name": "Exit on Trend Reversal",
                "enabled": true,
                "exit_type": "signal_exit",
                "condition": {
                    "type": "indicator_crossover",
                    "operator": "cross_below",
                    "left_value": "indicator:sma_fast",
                    "right_value": "indicator:sma_slow"
                }
            },
            {
                "name": "Exit on Extreme RSI",
                "enabled": true,
                "exit_type": "signal_exit",
                "condition": {
                    "type": "indicator_value",
                    "operator": ">",
                    "left_value": "indicator:rsi",
                    "right_value": 80
                }
            }
        ],
        "filter_rules": [
            {
                "name": "Block Supply Zone (Modified)",
                "enabled": true,
                "action": "block",
                "condition": {
                    "type": "indicator_value",
                    "operator": "!=",
                    "left_value": "indicator:supply_demand",
                    "right_value": 0
                }
            }
        ],
        "risk_management": {
            "stop_loss_percentage": 2.0,
            "take_profit_percentage": 5.0,
            "max_position_size": 0.5
        }
    },
    "initial_capital": 10000,
    "position_sizing": "fixed",
    "position_size_percent": 0.2,
    "max_positions": 3,
    "commission_rate": 0.001,
    "slippage_percent": 0.001,
    "stop_loss_percent": 5,
    "take_profit_percent": 3.0,
    "trailing_stop_percent": 2,
    "max_daily_loss_percent": 5,
    "enable_short_selling": false,
    "enable_margin": false,
    "leverage": 1,
    "require_confirmation": false
}











[API Proxy
] Received request for /api/v1/backtest/run
[API Proxy
] Payload: {
    "name": "يتنميينمين",
    "version": "1.0.0",
    "description": "",
    "base_timeframe": "5m",
    "position_side": "both",
    "strategy_config": {
        "name": "New Strategy",
        "version": "1.0.0",
        "description": "",
        "base_timeframe": "5m",
        "position_side": "both",
        "indicators": [
            {
                "name": "sma_8_1h",
                "type": "trend",
                "params": {
                    "period": 8
                },
                "enabled": true,
                "timeframe": "5m"
            },
            {
                "name": "sma_13_1h",
                "type": "trend",
                "params": {
                    "period": 13
                },
                "enabled": true,
                "timeframe": "5m"
            },
            {
                "name": "rsi",
                "type": "momentum",
                "params": {
                    "period": 14,
                    "overbought": 70,
                    "oversold": 30
                },
                "enabled": true,
                "timeframe": "5m"
            }
        ],
        "entry_rules": [
            {
                "name": "RSI Entry",
                "condition": {
                    "type": "and",
                    "conditions": [
                        {
                            "type": "indicator_value",
                            "operator": ">",
                            "left_value": "indicator:rsi",
                            "right_value": 70
                        },
                        {
                            "type": "indicator_value",
                            "operator": ">",
                            "left_value": "indicator:sma_8_1h",
                            "right_value": "indicator:sma_13_1h"
                        }
                    ]
                },
                "position_side": "long",
                "weight": 0.5,
                "enabled": true
            }
        ],
        "exit_rules": [
            {
                "name": "RSI Exit",
                "condition": {
                    "type": "indicator_value",
                    "operator": ">",
                    "left_value": "indicator:rsi",
                    "right_value": 70
                },
                "exit_type": "signal_exit",
                "enabled": true
            }
        ],
        "filter_rules": [],
        "risk_management": {
            "stop_loss_percentage": 2,
            "take_profit_percentage": 4,
            "trailing_stop_percentage": 1,
            "max_position_size": 0.1,
            "max_daily_loss": 5,
            "max_concurrent_positions": 3
        }
    },
    "start_date": "2025-12-30T00:00:00.000Z",
    "end_date": "2026-01-06T20:44:43.515Z",
    "timeframe": "5m",
    "symbols": [
        "ETHUSDT"
    ]
}
[API Proxy
] Backend Success: true
 POST /api/v1/backtest1/run 200 in 20.7s (compile: 4ms, render: 20.7s)